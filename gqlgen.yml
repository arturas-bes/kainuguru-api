# GraphQL schema location
schema:
  - internal/graphql/schema/*.graphql

# Where the generated server code will go
exec:
  filename: internal/graphql/generated/generated.go
  package: generated

# Where the GraphQL models will be generated
model:
  filename: internal/graphql/model/models_gen.go
  package: model

# Resolver configuration - we manually implement all resolvers
# Setting filename_template to a dash (-) tells gqlgen to skip resolver generation
resolver:
  filename_template: "-"

# Skip generating these types since we have custom implementations
skip_mod_tidy: true

# Custom scalar mappings
struct_tag: bun

# Autobind to find custom scalar implementations
autobind:
  - github.com/kainuguru/kainuguru-api/internal/graphql/scalars

# Skip generating these types since we have custom implementations
models:
  # Custom scalars with marshaling functions
  DateTime:
    model:
      - github.com/kainuguru/kainuguru-api/internal/graphql/scalars.DateTime

  # Authentication types
  User:
    model: github.com/kainuguru/kainuguru-api/internal/models.User
  
  # Product types
  Product:
    model: github.com/kainuguru/kainuguru-api/internal/models.Product
  
  Store:
    model: github.com/kainuguru/kainuguru-api/internal/models.Store
    
  Flyer:
    model: github.com/kainuguru/kainuguru-api/internal/models.Flyer
    
  ShoppingList:
    model: github.com/kainuguru/kainuguru-api/internal/models.ShoppingList
    
  ShoppingListItem:
    model: github.com/kainuguru/kainuguru-api/internal/models.ShoppingListItem
  
  # Wizard GraphQL types - DO NOT autobind to internal/models versions
  # The internal/models versions are for Redis; GraphQL needs its own
  WizardSession:
    # Let gqlgen generate this
  WizardSessionItem:
    # Let gqlgen generate this
  ExpiredItem:
    # Let gqlgen generate this
  Suggestion:
    # Let gqlgen generate this